{% extends "base.html" %} {% block content %}

    <div class="flex min-h-screen">
        <!-- Sidebar -->
        <aside class="w-1/6 min-h-screen flex flex-col bg-zinc-900 text-white p-4">
            <h2 class="text-xl font-bold my-2">Sidebar</h2>
            <div class="flex h-10 bg-zinc-900 items-center rounded hover:bg-zinc-500">
                <div class="m-2">
                    {% if user.picture_url %}
                        <img src="{{ user.picture_url }}" alt="Profile Image" class="w-8 h-8 rounded-full">
                    {% else %}
                        <img src="/static/images/profile_pictures/profile_picture.jpg" alt="Default Image"
                             class="w-8 h-8 rounded-full">
                    {% endif %}
                </div>
                <h4 class="font-bold">Ibraimov Nooruzbai</h4>

            </div>

        <ul class="mt-4 gap-2 flex flex-col flex-1">
            <li><a href="#" class="flex p-1 bg-zinc-700 text-sm rounded hover:bg-zinc-500">Profile</a></li>
        </ul>
    </aside>

    <!-- Main Content -->
    <main class="flex flex-1 flex-col bg-zinc-950 p-8 justify-center items-center">
        <div class="flex flex-col border rounded-lg border-zinc-600 w-3/5">
            <div class="flex flex-col border-b border-zinc-600">
                <div class="m-4">
                    <h2 class="text-2xl font-bold text-white">Profile</h2>

                    <h3 class="text-white">Manage settings for your Schedule.com profile</h3>
                </div>
            </div>

                <div class="flex flex-col justify-center items-center w-3/2 my-4">


                    <form class="flex flex-col gap-4 text-white w-3/4" method="post" enctype="multipart/form-data"
                          action="/settings">

                        <div class="flex flex-row items-center gap-6">

                            {% if user.picture_url %}
                                <img src="{{ user.picture_url }}" alt="Profile Image"
                                     class="w-32 h-32 rounded-full mb-4">
                            {% else %}
                                <img src="/static/images/profile_pictures/profile_picture.jpg" alt="Default Image"
                                     class="w-32 h-32 rounded-full mb-4">
                            {% endif %}

                            <div class="flex flex-col gap-2 ">
                                <label class="text-sm font-medium text-white" for="picture">Profile Picture</label>
                                <input class="w-full bg-zinc-950 border border-zinc-600 rounded-lg" type="file"
                                       id="picture_url" name="picture_url" />
                            </div>
                        </div>


                        <div class="flex flex-col gap-2">
                            <label class="text-sm font-medium text-white" for="firstName">First name</label>
                            <input
                                class="w-full rounded-md px-2 py-1 bg-zinc-950 border border-zinc-600"
                                type="text"
                                id="firstName"
                                name="first_name"
                                value="{{ user.first_name }}"
                            />
                        </div>

                    <div class="flex flex-col gap-2">
                        <label class="text-sm font-medium text-white" for="lastName">Last name</label>
                        <input
                            class="w-full rounded-md px-2 py-1 bg-zinc-950 border border-zinc-600"
                            type="text"
                            id="lastName"
                            name="last_name"
                            value="{{ user.last_name }}"
                        />
                    </div>

                    <div class="flex flex-col gap-2">
                        <label class="text-sm font-medium text-white" for="userName">Username</label>
                        <input
                            class="w-full rounded-md px-2 py-1 bg-zinc-950 border border-zinc-600"
                            type="text"
                            id="userName"
                            name="username"
                            value="{{ user.username }}"
                        />
                    </div>
                    <div class="flex flex-col gap-2">
                        <label class="text-sm font-medium text-white" for="email">Email</label>
                        <input
                            class="w-full rounded-md px-2 py-1 bg-zinc-950 border border-zinc-600"
                            type="text"
                            id="email"
                            name="email"
                            value="{{ user.email }}"
                        />
                    </div>

                    <div class="flex flex-col gap-2">
                        <label class="text-sm font-medium text-white" for="password">Password</label>
                        <input
                            class="w-full rounded-md px-2 py-1 bg-zinc-950 border border-zinc-600"
                            type="password"
                            id="password"
                            name="password"
                            value="{{ user.password }}"
                        />
                    </div>

                    <div class="flex flex-col gap-2">
                        <label class="text-sm font-medium text-white" for="about">About</label>
                        <input
                            class="w-full h-40 rounded-md px-2 py-1 bg-zinc-950 border border-zinc-600 align-text-top"
                            type="text"
                            id="about"
                            name="about"
                            value="{{ user.about if user.about is not none else '' }}"
                        />
                    </div>

                    <hr class="absolute w-full border-zinc-600 bottom-14 left-0" />

                    <div class="flex justify-end mt-10 border-zinc-600 w-full">
                        <button
                            type="submit"
                            class="bg-zinc-700 text-white px-6 py-2 rounded-md hover:bg-zinc-500 focus:outline-none focus:ring-2 focus:ring-blue-500"
                        >
                            Update
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <div class="flex flex-col justify-center border border-zinc-600 rounded-lg m-4 w-3/5">
            <div class="m-4">
                <h1 class="text-red-700 text-lg font-bold">Danger Zone</h1>
                <p class="text-white text-sm">Proceed with caution. This action is irreversible.</p>
            </div>

            <div class="flex flex-col w-full border-t border-zinc-600 items-end">
                <a
                    href="{{ url_for('delete_account', user_id=user.id) }}"
                    class="bg-red-700 text-white px-4 py-2 rounded-md m-4 hover:bg-red-500"
                >
                    Delete Account
                </a>
            </div>
        </div>
    </main>
</div>




{% endblock %}
